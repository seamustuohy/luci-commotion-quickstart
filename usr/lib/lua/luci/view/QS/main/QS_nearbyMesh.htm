<%-
   topheader="Here are the nearby networks."
   subheading="Click on a network to make a compatible node."
   PageTitle="Nearby Networks"
   function_url = luci.dispatcher.build_url('QS', 'chosenMeshDefault')
   buttons={
           { text="Upload a Config", icon="arrow", action="uploadConfig"},
           { text="Create New Network", icon="plus", action="uci?uci=name;last=nearbyMesh"},
           { text="Use A Pre-Built Config", icon="target", action="chooseConfig"}
   }   
-%>
<%- include("QS/module/QS_header") %>
<!-- Begin QS header -->

<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<!-- Are the favicon and stylesheet paths static or dynamic? -->
		<link type="image/png" href="<%=media%>/QS/images/favicon.ico" rel="shortcut icon" />
		<link rel="stylesheet" href="<%=media%>/QS/css/quickstart.css" type="text/css" />
		<!--script src="#" type="text/javascript"-->
		<!-- NEED: page title var in each page to be used in title and h1 -->
		<title><%=PageTitle%> | <%=node%></title>
	</head>
	<body>
		<div id="page">
<!-- End QS header -->
<style>
  .true {text-decoration:underline;
  color:blue;}
</style>
<%-= include("QS/module/QS_infoBanner") -%>
<!-- Begin QS infoBanner -->

<!---
		Seems like there should be a way to reuse this in logoInfoBanner
				-->
			<header>
				<!-- top level navigational elements -->
				<div class="navbar-inners">
					<div class="color0"></div>
					<div class="color1"></div>
					<div class="color2"></div>
					<div class="color3"></div>
					<div class="color4"></div>
				</div>
				<div id="zone-preface-wrapper">
					<div id="zone-preface">
						<hr />
						<!-- h1 functionally identical to title for accessibility -->
						<h1><%=PageTitle%></h1>
						<!-- Rest of header content -->
						<h2><%=topheader%></h2>
						<p><%=subheading%></p>
					</div>
				</div>
			</header>
<!-- End QS infoBanner -->
<%-= include("QS/module/QS_meshDisplay") -%>
<!-- Begin QS meshDisplay -->

<!-- Check my syntax. First for loop should render in column 2 with
		all the known/nearby meshes. If statement in column 2 should print
		the checkmark image if the full config is available -->

<div id="meshDisplay">
  <table summary="List of nearby meshes" class="near">
	<caption>
	  <img src="<%=media%>images/check.png" alt="Checkmark Icon" /> = Full automatic configuration available
	</caption>
	<tbody>
	  <tr>
		<th scope="col">Automatic</th>
		<th scope="col">Type of network</th>
	  </tr>
	  <%-
		 for _,x in ipairs(networks) do
		     name = x.name
		     config = x.config
		     configID = x.configID
		 -%>
	  <tr>
		<td>
		  <%-
			 if config ~= nil then
			 -%>
		  <img src="<%=media%>/images/check.png" alt="Full configuration available" class="true" />
		  <%end%>
		</td>
		<td><a href="<%=function_url%>?config=<%=name%>"><%=name%>/</a></td>
	  </tr>
	  <%end%>
	</tbody>
  </table>
</div>
<!-- End QS meshDisplay -->
<%-= include("QS/module/QS_buttons") -%>
<!-- Begin QS buttons -->

			<div id="zone-button-wrapper">
				<div id="zone-buttons">
					<div class="button-wrapper">
						<ul>
							<%-
							for i,x in ipairs(buttons) do
									text = x.text
								icon = x.icon
								action = x.action
								 -%>
								<li>
									<a href="/cgi-bin/luci/QS/<%=action%>">
										<figure>
										<img src="<%=media%>/QS/images/<%=icon%>.png" alt="<%=text%> Button" class="button" />
										<figcaption><%=text%></figcaption>
										</figure>
									</a>
								</li>
							<%end%>
						</ul>
					</div>
				</div>
			</div>
<!-- End QS buttons -->
<%- include("QS/module/QS_footer") -%>
<!-- Begin QS footer -->

			<%- include("QS/module/QS_adminButton") -%>
			<!-- Begin QS adminButton -->

			<div id="zone-footer-wrapper">
				<div id="zone-footer">
						<div class="button-wrapper">
							<ul>
								<li>
									<a href="#">
										<figure>
											<img src="<%=media%>/QS/images/target_admin.png" alt="Advanced Config Button" class="button" />
											<figcaption>Advanced Config</figcaption>
										</figure>
									</a>
								</li>
								<li>
									<a href="#">
										<figure>
											<img src="<%=media%>/QS/images/greendot_admin.png" alt="Help Button" class="button" />
											<figcaption>Help</figcaption>
										</figure>
									</a>
								</li>
								<li>
									<a href="#">
										<figure>
											<img src="<%=media%>/QS/images/equal_admin.png" alt="Admin Menu Button" class="button" />
											<figcaption>Admin Menu</figcaption>
										</figure>
									</a>
								</li>
								<li>
									<a href="#">
										<figure>
											<img src="<%=media%>/QS/images/quit_admin.png" alt="Quit Quickstart Wizard Button" class="button" />
											<figcaption>Quit</figcaption>
										</figure>
									</a>
								</li>
							</ul>
						</div>
					</div>
			</div>
			<!-- End QS adminButton -->
		</div>
	</body>
</html>
<!-- End QS footer -->
